{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nick\\\\Desktop\\\\P565-project-g5-Sprint03-Nick\\\\frontend\\\\src\\\\SpecificPosting.js\";\nimport React, { Component } from \"react\";\nimport StarRatingComponent from \"react-star-rating-component\";\nimport { Map, GoogleApiWrapper, GoogleMapReact } from \"google-maps-react\";\nimport Gallery from \"./Gallery.js\";\nimport { TextField, Button } from \"@material-ui/core\";\nimport \"./SpecificPosting.css\";\nimport \"./DefaultStyle.css\";\nconst mapStyles = {\n  width: \"calc(33vw - 40px)\",\n  height: \"calc(33vw - 40px)\"\n};\n\nclass SpecificPosting extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      post: {\n        postingID: 1,\n        apartmentInfo: {\n          address: \"1051 South Adams Street, Bloomington, Indiana 47403\",\n          rent: 942,\n          rooms: 1,\n          bath: 1,\n          electricity: \"$70\",\n          water: \"$100\"\n        },\n        contact: '{\\n\"name\":\"John Property\",\\n\"phoneNumber:\" \"(812)555-5555\",\\n\"email: \"johnprops@gmail.com\",\\n}',\n        mapLocation: {\n          latitude: 39.1537375,\n          longitude: -86.5510529\n        },\n        amenities: [\"Pet-Friendly\", \"Indoor Pool\", \"Free Money!\"],\n        ratings: [{\n          username: \"John Smith\",\n          stars: 2,\n          review: \"Average Apartment.\"\n        }, {\n          username: \"Jack Reacher\",\n          stars: 3,\n          review: \"Good Apartment.\"\n        }],\n        images: [{\n          src: require(\"./images/01/img01.png\"),\n          thumbnail: require(\"./images/01/img01.png\"),\n          thumbnailWidth: 320,\n          thumbnailHeight: 174\n        }, {\n          src: require(\"./images/01/img02.png\"),\n          thumbnail: require(\"./images/01/img02.png\"),\n          thumbnailWidth: 320,\n          thumbnailHeight: 174\n        }, {\n          src: require(\"./images/01/img03.png\"),\n          thumbnail: require(\"./images/01/img03.png\"),\n          thumbnailWidth: 320,\n          thumbnailHeight: 174\n        }, {\n          src: require(\"./images/01/img04.png\"),\n          thumbnail: require(\"./images/01/img04.png\"),\n          thumbnailWidth: 320,\n          thumbnailHeight: 174\n        }],\n        tours: []\n      },\n      postings: [{\n        postingID: \"3\",\n        apartmentInfo: {\n          address: \"2540 S. Alley St. Bloomington, IN 47403\",\n          rent: \"$4,900\",\n          rooms: \"3\",\n          bath: \"3.5\",\n          electricity: \"$70\",\n          water: \"$100\"\n        },\n        contact: {\n          name: \"John Property\",\n          phoneNumber: \"(812)555-5555\",\n          email: \"johnprops@gmail.com\"\n        },\n        mapLocation: {\n          lattitude: \"39.1653\",\n          longitude: \"-86.5264\"\n        },\n        amenities: [\"Pet-Friendly\", \"Indoor Pool\", \"Free Money!\"],\n        ratings: [{\n          username: \"Past Tenant\",\n          stars: \"3\",\n          review: \"This was a pretty cool place to live in when I was here for school.  The environment is pretty loud though, so may be best to avoid if you are not into the party scene.\"\n        }, {\n          username: \"Past Tenant\",\n          stars: \"1\",\n          review: \"loud neighborhood.  AVOID IF YOU ARE A GRAD STUDENTS!!!\"\n        }, {\n          username: \"Past Tenant\",\n          stars: \"3\",\n          review: \"Good place to live if you like to be close to campus, but also close to downtown.  Rent was a little high, though...\"\n        }]\n      }, {\n        postingID: \"12346\",\n        apartmentInfo: {\n          address: \"1216 N Woodlawn Avenue\",\n          rent: \"$4,900\",\n          rooms: \"3\",\n          bath: \"3.5\",\n          electricity: \"$70\",\n          water: \"$100\"\n        },\n        contact: {\n          name: \"John Property\",\n          phoneNumber: \"(812)555-5555\",\n          email: \"johnprops@gmail.com\"\n        },\n        mapLocation: {\n          lattitude: \"39.1653\",\n          longitude: \"-86.5264\"\n        },\n        amenities: [\"Pet-Friendly\", \"Indoor Pool\", \"Free Money!\"],\n        ratings: [{\n          username: \"Past Tenant\",\n          stars: \"3\",\n          review: \"This was a pretty cool place to live in when I was here for school.  The environment is pretty loud though, so may be best to avoid if you are not into the party scene.\"\n        }, {\n          username: \"Past Tenant\",\n          stars: \"1\",\n          review: \"loud neighborhood.  AVOID IF YOU ARE A GRAD STUDENTS!!!\"\n        }, {\n          username: \"Past Tenant\",\n          stars: \"3\",\n          review: \"Good place to live if you like to be close to campus, but also close to downtown.  Rent was a little high, though...\"\n        }],\n        images: [{\n          src: require(\"./images/sample1.jpg\"),\n          thumbnail: require(\"./images/sample1.jpg\"),\n          thumbnailWidth: 320,\n          thumbnailHeight: 174\n        }, {\n          src: require(\"./images/sample2.jpg\"),\n          thumbnail: require(\"./images/sample2.jpg\"),\n          thumbnailWidth: 320,\n          thumbnailHeight: 174\n        }]\n      }, {\n        postingID: \"12347\",\n        apartmentInfo: {\n          address: \"7604 Idlebrook Drive\",\n          rent: \"$4,900\",\n          rooms: \"3\",\n          bath: \"3.5\",\n          electricity: \"$70\",\n          water: \"$100\"\n        },\n        contact: {\n          name: \"John Property\",\n          phoneNumber: \"(812)555-5555\",\n          email: \"johnprops@gmail.com\"\n        },\n        mapLocation: {\n          lattitude: \"39.1653\",\n          longitude: \"-86.5264\"\n        },\n        amenities: [\"Pet-Friendly\", \"Indoor Pool\", \"Free Money!\"],\n        ratings: [{\n          username: \"Past Tenant\",\n          stars: \"3\",\n          review: \"This was a pretty cool place to live in when I was here for school.  The environment is pretty loud though, so may be best to avoid if you are not into the party scene.\"\n        }, {\n          username: \"Past Tenant\",\n          stars: \"1\",\n          review: \"loud neighborhood.  AVOID IF YOU ARE A GRAD STUDENTS!!!\"\n        }, {\n          username: \"Past Tenant\",\n          stars: \"3\",\n          review: \"Good place to live if you like to be close to campus, but also close to downtown.  Rent was a little high, though...\"\n        }]\n      }]\n    };\n    let vars = {};\n    let parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function (m, key, value) {\n      vars[key] = value;\n    });\n    console.log(vars);\n    var postId = vars.postingID;\n\n    for (var i = 0; i < this.state.postings.length; i++) {\n      var obj = this.state.postings[i];\n\n      if (postId == obj.postingID) {\n        this.state.post = obj;\n        console.log(this.state.post);\n      }\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      class: \"primary-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(\"main\", {\n      class: \"body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"specificposting-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"leftside\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"aptinfo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239\n      },\n      __self: this\n    }, \"Room Information\"), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240\n      },\n      __self: this\n    }, this.state.post.apartmentInfo.address), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }, this.state.post.apartmentInfo.rent), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(\"u\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, \"Rooms\"), \": \", this.state.post.apartmentInfo.rooms, \" |\", \" \", React.createElement(\"u\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, \"Bath\"), \": \", this.state.post.apartmentInfo.bath), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, React.createElement(\"u\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, \"Utilities\")), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, \"Gas: Included!\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \"Electric: (est.)\", this.state.post.apartmentInfo.electricity), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, \"Water: (est.) \", this.state.post.apartmentInfo.water), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, \"Internet: Included!\")), React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, React.createElement(\"u\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, \"Amenities\")), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, this.state.post.amenities.map(amenity => React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, amenity, \" \")))), React.createElement(\"div\", {\n      class: \"contact\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 266\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, \"Contact\"), React.createElement(\"div\", {\n      class: \"contact-display\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      class: \"contact-portrait\",\n      src: require(\"./logo.svg\"),\n      alt: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"contact-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }, this.state.post.contact.name, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    })), React.createElement(\"i\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279\n      },\n      __self: this\n    }, this.state.post.contact.phoneNumber, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    })), React.createElement(\"i\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, this.state.post.contact.email, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      class: \"visitation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, \"Schedule a Visit!\"), React.createElement(TourSchedule, {\n      tours: this.state.post.tours,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      class: \"rightside\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"gallery\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, \"Gallery\")), React.createElement(\"div\", {\n      class: \"bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 301\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"map\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, \"Map\"), React.createElement(Map, {\n      google: this.props.google,\n      zoom: 8,\n      style: mapStyles,\n      initialCenter: {\n        lat: 39.1653,\n        lng: -86.5264\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      class: \"review\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, \"Reviews and Ratings\"), this.state.post.ratings.map(data => React.createElement(\"div\", {\n      class: \"review-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      class: \"review-item\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, data.username)), React.createElement(StarRatingComponent, {\n      editing: false,\n      starCount: 5,\n      value: data.stars,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      class: \"review-item-review\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    }, data.review)))))))));\n  }\n\n}\n\nexport default GoogleApiWrapper({\n  apiKey: \"\"\n  /*'AIzaSyBSFD5npoXO1kSQvawK1NuAx197oSFv9pI'*/\n\n})(SpecificPosting);\n\nclass TourSchedule extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      date: this.getCurrentDate(),\n      startTime: \"09:00\",\n      endTime: \"09:30\",\n      phone: \"\",\n      validPhone: false,\n      tours: []\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleInputChangePhone = this.handleInputChangePhone.bind(this);\n  }\n\n  render() {\n    var tours = this.props.tours.map(function (obj) {\n      return {\n        uid: obj.uid,\n        start_time: obj.start_time,\n        end_time: obj.end_time\n      };\n    });\n    this.state.tours = tours;\n    return React.createElement(\"div\", {\n      class: \"tour-scheduling\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369\n      },\n      __self: this\n    }, \"NOTE: Standard hours are between 9:00am and 5:00pm. Visits last 30 minutes (1/2 hour). A starting time greater than 4:30pm won't be considered.\"), React.createElement(\"br\", {\n      style: {\n        width: \"100%\",\n        marginBottom: \"20px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      autoComplete: \"off\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 375\n      },\n      __self: this\n    }, React.createElement(TextField, {\n      name: \"date\",\n      label: \"Visitation Date\",\n      type: \"date\",\n      value: this.state.date,\n      onChange: this.handleInputChange,\n      fullWidth: \"true\",\n      defaultValue: this.getCurrentDate(),\n      InputLabelProps: {\n        shrink: true\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      name: \"startTime\",\n      label: \"Start Time\",\n      type: \"time\",\n      fullWidth: \"true\",\n      value: this.state.startTime,\n      onChange: this.handleInputChange,\n      InputLabelProps: {\n        shrink: true\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388\n      },\n      __self: this\n    }), React.createElement(TextField, {\n      name: \"phone\",\n      label: \"Phone\",\n      type: \"tel\",\n      fullWidth: \"true\",\n      value: this.state.phone,\n      onChange: this.handleInputChangePhone,\n      InputLabelProps: {\n        shrink: true\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 400\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: {\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412\n      },\n      __self: this\n    })), React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 417\n      },\n      __self: this\n    }, \"Schedule a Tour\")));\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleInputChangePhone(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n    const nums = value.replace(/[^0-9]/g, \"\");\n\n    if (nums.length < 10) {\n      this.setState({\n        [name]: nums\n      });\n      this.setState({\n        [\"validPhone\"]: false\n      });\n    } else if (nums.length === 10) {\n      const p = nums.replace(/(\\d{3})(\\d{3})(\\d{4})/, \"($1) $2-$3\");\n      this.setState({\n        [name]: p\n      });\n      this.setState({\n        [\"validPhone\"]: true\n      });\n    }\n  }\n\n  handleSubmit(event) {\n    if (this.state.date === \"\" || this.state.startTime === \"\" || this.state.endTime === \"\" || !this.state.validPhone) {\n      alert(\"WARNING: Invalid Visit Input\\n\\nPlease fill out all attributes before submitting.\");\n      return;\n    }\n\n    if (this.state.startTime < \"09:00\" || this.state.startTime > \"16:30\") {\n      alert(\"WARNING: Requested Time Out of Hours.\\n\\nPlease fill out a start time after 09:00AM and before 04:30PM.\");\n      return;\n    } //gets the end time 30 minutes after the start time\n\n\n    const leadZero = n => (n < 10 ? \"0\" : \"\") + n.toString();\n\n    var hour = parseInt(this.state.startTime.substring(0, 2));\n    var minute = parseInt(this.state.startTime.substring(3));\n    minute += 30;\n    this.state.endTime = minute >= 60 ? leadZero(hour + 1) + \":\" + leadZero(minute - 60) : leadZero(hour) + \":\" + leadZero(minute); //validates no conflicts with existing tours\n\n    for (let tour in this.state.tours) {\n      //if either the start or end times fall within the current tour, there's a conflict\n      if (this.state.startTime >= this.state.tours[tour].start_time.substring(11) && this.state.startTime < this.state.tours[tour].end_time.substring(11) || this.state.endTime >= this.state.tours[tour].start_time.substring(11) && this.state.endTime < this.state.tours[tour].end_time.substring(11)) {\n        alert(\"WARNING: Scheduling Conflict!\\n\\nThere's already a tour scheduled during that time.  Please select another.\");\n        return;\n      }\n    } //TODO: Send visitation to backend\n\n\n    alert(\"Visit Scheduled!\\n\\n\" + \"Date: \" + this.state.date + \"\\nStart Time: \" + this.state.startTime + \"\\nEnd Time: \" + this.state.endTime + \"\\nContact #: \" + this.state.phone);\n    event.preventDefault();\n  }\n\n  getCurrentDate() {\n    var today = new Date();\n    return today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate();\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\Nick\\Desktop\\P565-project-g5-Sprint03-Nick\\frontend\\src\\SpecificPosting.js"],"names":["React","Component","StarRatingComponent","Map","GoogleApiWrapper","GoogleMapReact","Gallery","TextField","Button","mapStyles","width","height","SpecificPosting","constructor","props","state","post","postingID","apartmentInfo","address","rent","rooms","bath","electricity","water","contact","mapLocation","latitude","longitude","amenities","ratings","username","stars","review","images","src","require","thumbnail","thumbnailWidth","thumbnailHeight","tours","postings","name","phoneNumber","email","lattitude","vars","parts","window","location","href","replace","m","key","value","console","log","postId","i","length","obj","render","map","amenity","google","lat","lng","data","apiKey","TourSchedule","date","getCurrentDate","startTime","endTime","phone","validPhone","handleSubmit","bind","handleInputChange","handleInputChangePhone","uid","start_time","end_time","marginBottom","shrink","event","target","setState","nums","p","alert","leadZero","n","toString","hour","parseInt","substring","minute","tour","preventDefault","today","Date","getFullYear","getMonth","getDate"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport StarRatingComponent from \"react-star-rating-component\";\nimport { Map, GoogleApiWrapper, GoogleMapReact } from \"google-maps-react\";\nimport Gallery from \"./Gallery.js\";\nimport { TextField, Button } from \"@material-ui/core\";\n\nimport \"./SpecificPosting.css\";\nimport \"./DefaultStyle.css\";\n\nconst mapStyles = {\n  width: \"calc(33vw - 40px)\",\n  height: \"calc(33vw - 40px)\"\n};\n\nclass SpecificPosting extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      post: {\n        postingID: 1,\n        apartmentInfo: {\n          address: \"1051 South Adams Street, Bloomington, Indiana 47403\",\n          rent: 942,\n          rooms: 1,\n          bath: 1,\n          electricity: \"$70\",\n          water: \"$100\"\n        },\n        contact:\n          '{\\n\"name\":\"John Property\",\\n\"phoneNumber:\" \"(812)555-5555\",\\n\"email: \"johnprops@gmail.com\",\\n}',\n        mapLocation: {\n          latitude: 39.1537375,\n          longitude: -86.5510529\n        },\n        amenities: [\"Pet-Friendly\", \"Indoor Pool\", \"Free Money!\"],\n        ratings: [\n          {\n            username: \"John Smith\",\n            stars: 2,\n            review: \"Average Apartment.\"\n          },\n          {\n            username: \"Jack Reacher\",\n            stars: 3,\n            review: \"Good Apartment.\"\n          }\n        ],\n        images: [\n          {\n            src: require(\"./images/01/img01.png\"),\n            thumbnail: require(\"./images/01/img01.png\"),\n            thumbnailWidth: 320,\n            thumbnailHeight: 174\n          },\n          {\n            src: require(\"./images/01/img02.png\"),\n            thumbnail: require(\"./images/01/img02.png\"),\n            thumbnailWidth: 320,\n            thumbnailHeight: 174\n          },\n          {\n            src: require(\"./images/01/img03.png\"),\n            thumbnail: require(\"./images/01/img03.png\"),\n            thumbnailWidth: 320,\n            thumbnailHeight: 174\n          },\n          {\n            src: require(\"./images/01/img04.png\"),\n            thumbnail: require(\"./images/01/img04.png\"),\n            thumbnailWidth: 320,\n            thumbnailHeight: 174\n          }\n        ],\n        tours: []\n      },\n      postings: [\n        {\n          postingID: \"3\",\n          apartmentInfo: {\n            address: \"2540 S. Alley St. Bloomington, IN 47403\",\n            rent: \"$4,900\",\n            rooms: \"3\",\n            bath: \"3.5\",\n            electricity: \"$70\",\n            water: \"$100\"\n          },\n          contact: {\n            name: \"John Property\",\n            phoneNumber: \"(812)555-5555\",\n            email: \"johnprops@gmail.com\"\n          },\n          mapLocation: {\n            lattitude: \"39.1653\",\n            longitude: \"-86.5264\"\n          },\n          amenities: [\"Pet-Friendly\", \"Indoor Pool\", \"Free Money!\"],\n          ratings: [\n            {\n              username: \"Past Tenant\",\n              stars: \"3\",\n              review:\n                \"This was a pretty cool place to live in when I was here for school.  The environment is pretty loud though, so may be best to avoid if you are not into the party scene.\"\n            },\n            {\n              username: \"Past Tenant\",\n              stars: \"1\",\n              review: \"loud neighborhood.  AVOID IF YOU ARE A GRAD STUDENTS!!!\"\n            },\n            {\n              username: \"Past Tenant\",\n              stars: \"3\",\n              review:\n                \"Good place to live if you like to be close to campus, but also close to downtown.  Rent was a little high, though...\"\n            }\n          ]\n        },\n        {\n          postingID: \"12346\",\n          apartmentInfo: {\n            address: \"1216 N Woodlawn Avenue\",\n            rent: \"$4,900\",\n            rooms: \"3\",\n            bath: \"3.5\",\n            electricity: \"$70\",\n            water: \"$100\"\n          },\n          contact: {\n            name: \"John Property\",\n            phoneNumber: \"(812)555-5555\",\n            email: \"johnprops@gmail.com\"\n          },\n          mapLocation: {\n            lattitude: \"39.1653\",\n            longitude: \"-86.5264\"\n          },\n          amenities: [\"Pet-Friendly\", \"Indoor Pool\", \"Free Money!\"],\n          ratings: [\n            {\n              username: \"Past Tenant\",\n              stars: \"3\",\n              review:\n                \"This was a pretty cool place to live in when I was here for school.  The environment is pretty loud though, so may be best to avoid if you are not into the party scene.\"\n            },\n            {\n              username: \"Past Tenant\",\n              stars: \"1\",\n              review: \"loud neighborhood.  AVOID IF YOU ARE A GRAD STUDENTS!!!\"\n            },\n            {\n              username: \"Past Tenant\",\n              stars: \"3\",\n              review:\n                \"Good place to live if you like to be close to campus, but also close to downtown.  Rent was a little high, though...\"\n            }\n          ],\n          images: [\n            {\n              src: require(\"./images/sample1.jpg\"),\n              thumbnail: require(\"./images/sample1.jpg\"),\n              thumbnailWidth: 320,\n              thumbnailHeight: 174\n            },\n            {\n              src: require(\"./images/sample2.jpg\"),\n              thumbnail: require(\"./images/sample2.jpg\"),\n              thumbnailWidth: 320,\n              thumbnailHeight: 174\n            }\n          ]\n        },\n        {\n          postingID: \"12347\",\n          apartmentInfo: {\n            address: \"7604 Idlebrook Drive\",\n            rent: \"$4,900\",\n            rooms: \"3\",\n            bath: \"3.5\",\n            electricity: \"$70\",\n            water: \"$100\"\n          },\n          contact: {\n            name: \"John Property\",\n            phoneNumber: \"(812)555-5555\",\n            email: \"johnprops@gmail.com\"\n          },\n          mapLocation: {\n            lattitude: \"39.1653\",\n            longitude: \"-86.5264\"\n          },\n          amenities: [\"Pet-Friendly\", \"Indoor Pool\", \"Free Money!\"],\n          ratings: [\n            {\n              username: \"Past Tenant\",\n              stars: \"3\",\n              review:\n                \"This was a pretty cool place to live in when I was here for school.  The environment is pretty loud though, so may be best to avoid if you are not into the party scene.\"\n            },\n            {\n              username: \"Past Tenant\",\n              stars: \"1\",\n              review: \"loud neighborhood.  AVOID IF YOU ARE A GRAD STUDENTS!!!\"\n            },\n            {\n              username: \"Past Tenant\",\n              stars: \"3\",\n              review:\n                \"Good place to live if you like to be close to campus, but also close to downtown.  Rent was a little high, though...\"\n            }\n          ]\n        }\n      ]\n    };\n\n    let vars = {};\n    let parts = window.location.href.replace(\n      /[?&]+([^=&]+)=([^&]*)/gi,\n      function(m, key, value) {\n        vars[key] = value;\n      }\n    );\n    console.log(vars);\n    var postId = vars.postingID;\n    for (var i = 0; i < this.state.postings.length; i++) {\n      var obj = this.state.postings[i];\n      if (postId == obj.postingID) {\n        this.state.post = obj;\n        console.log(this.state.post);\n      }\n    }\n  }\n\n  render() {\n    return (\n      <div class=\"primary-container\">\n        <main class=\"body\">\n          <div class=\"specificposting-container\">\n            <div class=\"leftside\">\n              <div class=\"aptinfo\">\n                <h3>Room Information</h3>\n                <h4>{this.state.post.apartmentInfo.address}</h4>\n                <h4>{this.state.post.apartmentInfo.rent}</h4>\n                <h4>\n                  <u>Rooms</u>: {this.state.post.apartmentInfo.rooms} |{\" \"}\n                  <u>Bath</u>: {this.state.post.apartmentInfo.bath}\n                </h4>\n                <h4>\n                  <u>Utilities</u>\n                </h4>\n                <ul>\n                  <li>Gas: Included!</li>\n                  <li>\n                    Electric: (est.){this.state.post.apartmentInfo.electricity}\n                  </li>\n                  <li>Water: (est.) {this.state.post.apartmentInfo.water}</li>\n                  <li>Internet: Included!</li>\n                </ul>\n                <h4>\n                  <u>Amenities</u>\n                </h4>\n                <ul>\n                  {this.state.post.amenities.map(amenity => (\n                    <li>{amenity} </li>\n                  ))}\n                </ul>\n              </div>\n              <div class=\"contact\">\n                <h3>Contact</h3>\n                <div class=\"contact-display\">\n                  <img\n                    class=\"contact-portrait\"\n                    src={require(\"./logo.svg\")}\n                    alt=\"logo\"\n                  />\n                  <div class=\"contact-info\">\n                    <h4>\n                      {this.state.post.contact.name}\n                      <br />\n                    </h4>\n                    <i>\n                      {this.state.post.contact.phoneNumber}\n                      <br />\n                      <br />\n                    </i>\n                    <i>\n                      {this.state.post.contact.email}\n                      <br />\n                    </i>\n                  </div>\n                </div>\n              </div>\n              <div class=\"visitation\">\n                <h3>Schedule a Visit!</h3>\n                <TourSchedule tours={this.state.post.tours} />\n              </div>\n            </div>\n            <div class=\"rightside\">\n              <div class=\"gallery\">\n                <h3>Gallery</h3>\n                {/* <Gallery images={this.state.post.images} /> */}\n              </div>\n              <div class=\"bottom\">\n                <div class=\"map\">\n                  <h3>Map</h3>\n                  <Map\n                    google={this.props.google}\n                    zoom={8}\n                    style={mapStyles}\n                    initialCenter={{ lat: 39.1653, lng: -86.5264 }}\n                  />\n                </div>\n                <div class=\"review\">\n                  <h3>Reviews and Ratings</h3>\n                  {this.state.post.ratings.map(data => (\n                    <div class=\"review-item\">\n                      <div class=\"review-item\">\n                        <i>{data.username}</i>\n                      </div>\n                      <StarRatingComponent\n                        editing={false}\n                        starCount={5}\n                        value={data.stars}\n                      />\n                      <div class=\"review-item-review\">{data.review}</div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        </main>\n      </div>\n    );\n  }\n}\n\nexport default GoogleApiWrapper({\n  apiKey: \"\" /*'AIzaSyBSFD5npoXO1kSQvawK1NuAx197oSFv9pI'*/\n})(SpecificPosting);\n\nclass TourSchedule extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      date: this.getCurrentDate(),\n      startTime: \"09:00\",\n      endTime: \"09:30\",\n      phone: \"\",\n      validPhone: false,\n      tours: []\n    };\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleInputChange = this.handleInputChange.bind(this);\n    this.handleInputChangePhone = this.handleInputChangePhone.bind(this);\n  }\n\n  render() {\n    var tours = this.props.tours.map(function(obj) {\n      return {\n        uid: obj.uid,\n        start_time: obj.start_time,\n        end_time: obj.end_time\n      };\n    });\n    this.state.tours = tours;\n\n    return (\n      <div class=\"tour-scheduling\">\n        <i>\n          NOTE: Standard hours are between 9:00am and 5:00pm. Visits last 30\n          minutes (1/2 hour). A starting time greater than 4:30pm won't be\n          considered.\n        </i>\n        <br style={{ width: \"100%\", marginBottom: \"20px\" }} />\n        <form autoComplete=\"off\">\n          <TextField\n            name=\"date\"\n            label=\"Visitation Date\"\n            type=\"date\"\n            value={this.state.date}\n            onChange={this.handleInputChange}\n            fullWidth=\"true\"\n            defaultValue={this.getCurrentDate()}\n            InputLabelProps={{\n              shrink: true\n            }}\n          />\n          <TextField\n            name=\"startTime\"\n            label=\"Start Time\"\n            type=\"time\"\n            fullWidth=\"true\"\n            value={this.state.startTime}\n            onChange={this.handleInputChange}\n            InputLabelProps={{\n              shrink: true\n            }}\n          />\n\n          <TextField\n            name=\"phone\"\n            label=\"Phone\"\n            type=\"tel\"\n            fullWidth=\"true\"\n            value={this.state.phone}\n            onChange={this.handleInputChangePhone}\n            InputLabelProps={{\n              shrink: true\n            }}\n          />\n          <div style={{ width: \"100%\" }}>\n            <br />\n          </div>\n          {/* <button class=\"secondary-button\" onClick={this.handleSubmit}>\n            Schedule a Tour\n          </button> */}\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={this.handleSubmit}\n          >\n            Schedule a Tour\n          </Button>\n        </form>\n      </div>\n    );\n  }\n\n  handleInputChange(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleInputChangePhone(event) {\n    const target = event.target;\n    const value = target.value;\n    const name = target.name;\n\n    const nums = value.replace(/[^0-9]/g, \"\");\n    if (nums.length < 10) {\n      this.setState({ [name]: nums });\n      this.setState({ [\"validPhone\"]: false });\n    } else if (nums.length === 10) {\n      const p = nums.replace(/(\\d{3})(\\d{3})(\\d{4})/, \"($1) $2-$3\");\n      this.setState({ [name]: p });\n      this.setState({ [\"validPhone\"]: true });\n    }\n  }\n\n  handleSubmit(event) {\n    if (\n      this.state.date === \"\" ||\n      this.state.startTime === \"\" ||\n      this.state.endTime === \"\" ||\n      !this.state.validPhone\n    ) {\n      alert(\n        \"WARNING: Invalid Visit Input\\n\\nPlease fill out all attributes before submitting.\"\n      );\n      return;\n    }\n\n    if (this.state.startTime < \"09:00\" || this.state.startTime > \"16:30\") {\n      alert(\n        \"WARNING: Requested Time Out of Hours.\\n\\nPlease fill out a start time after 09:00AM and before 04:30PM.\"\n      );\n      return;\n    }\n\n    //gets the end time 30 minutes after the start time\n    const leadZero = n => (n < 10 ? \"0\" : \"\") + n.toString();\n    var hour = parseInt(this.state.startTime.substring(0, 2));\n    var minute = parseInt(this.state.startTime.substring(3));\n    minute += 30;\n    this.state.endTime =\n      minute >= 60\n        ? leadZero(hour + 1) + \":\" + leadZero(minute - 60)\n        : leadZero(hour) + \":\" + leadZero(minute);\n\n    //validates no conflicts with existing tours\n    for (let tour in this.state.tours) {\n      //if either the start or end times fall within the current tour, there's a conflict\n      if (\n        (this.state.startTime >=\n          this.state.tours[tour].start_time.substring(11) &&\n          this.state.startTime <\n            this.state.tours[tour].end_time.substring(11)) ||\n        (this.state.endTime >=\n          this.state.tours[tour].start_time.substring(11) &&\n          this.state.endTime < this.state.tours[tour].end_time.substring(11))\n      ) {\n        alert(\n          \"WARNING: Scheduling Conflict!\\n\\nThere's already a tour scheduled during that time.  Please select another.\"\n        );\n        return;\n      }\n    }\n\n    //TODO: Send visitation to backend\n\n    alert(\n      \"Visit Scheduled!\\n\\n\" +\n        \"Date: \" +\n        this.state.date +\n        \"\\nStart Time: \" +\n        this.state.startTime +\n        \"\\nEnd Time: \" +\n        this.state.endTime +\n        \"\\nContact #: \" +\n        this.state.phone\n    );\n    event.preventDefault();\n  }\n\n  getCurrentDate() {\n    var today = new Date();\n    return (\n      today.getFullYear() + \"-\" + (today.getMonth() + 1) + \"-\" + today.getDate()\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}