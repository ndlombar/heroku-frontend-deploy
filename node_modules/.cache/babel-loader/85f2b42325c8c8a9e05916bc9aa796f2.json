{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nick\\\\Desktop\\\\P565-project-g5-Sprint03-Nick\\\\frontend\\\\src\\\\OneTimePassword.js\";\nimport React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Axios from \"axios\";\n\nclass OneTimePassword extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\"\n    };\n    this.send = this.send.bind(this);\n    this.handleEmail = this.handleEmail.bind(this);\n  }\n\n  handleEmail(event) {\n    this.setState({\n      email: event.target.value\n    });\n  }\n\n  send() {\n    if (!/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(this.state.email)) {\n      alert(\"Please enter a valid email address.\");\n    } else {\n      Axios.get(\"http://localhost:8080/sendOTP\", {\n        params: {\n          email: this.state.email\n        }\n      }).then(response => {\n        console.log(response);\n\n        if (response.data.success) {\n          ReactDOM.render(React.createElement(EnterOTP, {\n            userEmail: this.state.email,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 38\n            },\n            __self: this\n          }), document.getElementById(\"recover-page\"));\n        } else {\n          alert(\"That is not a registered email.\");\n        }\n      }, error => {\n        console.log(error);\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"recover-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"recoverForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      className: \"emailLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, \"What is your email address?\"), React.createElement(TextField, {\n      variant: \"outlined\",\n      placeholder: \"Enter your email address\",\n      onChange: this.handleEmail,\n      className: \"email-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: this.send,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Recover\")));\n  }\n\n}\n\nexport default OneTimePassword;\n\nclass EnterOTP extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: this.props.userEmail,\n      otp: \"\"\n    };\n    this.handleOTP = this.handleOTP.bind(this);\n    this.submit = this.submit.bind(this);\n  }\n\n  handleOTP(event) {\n    this.setState({\n      otp: event.target.value\n    });\n  }\n\n  submit() {\n    Axios.post(\"http://localhost:8080/validateOTP\", {\n      email: this.state.email,\n      otp: this.state.otp\n    }).then(response => {\n      console.log(response);\n\n      if (response.data.success) {\n        window.location.replace(\"http://localhost:3000/resetpassword?email=\".concat(this.state.email));\n      } else {\n        alert(\"That is not a registered email.\");\n      }\n    }, error => {\n      console.log(error);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"recover-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"recoverForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      className: \"emailLabel\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, \"Please enter the One Time Password below.\"), React.createElement(TextField, {\n      variant: \"outlined\",\n      placeholder: \"One Time Password\",\n      onChange: this.handleOTP,\n      className: \"email-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), React.createElement(Button, {\n      variant: \"contained\",\n      color: \"primary\",\n      onClick: this.submit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Submit\")));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\Nick\\Desktop\\P565-project-g5-Sprint03-Nick\\frontend\\src\\OneTimePassword.js"],"names":["React","Component","ReactDOM","Typography","TextField","Button","Axios","OneTimePassword","constructor","props","state","email","send","bind","handleEmail","event","setState","target","value","test","alert","get","params","then","response","console","log","data","success","render","document","getElementById","error","EnterOTP","userEmail","otp","handleOTP","submit","post","window","location","replace"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Axios from \"axios\";\n\nclass OneTimePassword extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\"\n    };\n    this.send = this.send.bind(this);\n    this.handleEmail = this.handleEmail.bind(this);\n  }\n\n  handleEmail(event) {\n    this.setState({ email: event.target.value });\n  }\n\n  send() {\n    \n\n    if (\n      !/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(\n        this.state.email\n      )\n    ) {\n      alert(\"Please enter a valid email address.\");\n    } else {\n      Axios.get(\"http://localhost:8080/sendOTP\", {\n        params: { email: this.state.email }\n      }).then(\n        response => {\n          console.log(response);\n          if (response.data.success) {\n            ReactDOM.render(<EnterOTP userEmail={this.state.email} />, document.getElementById(\"recover-page\"));\n          } else {\n            alert(\"That is not a registered email.\");\n          }\n        },\n        error => {\n          console.log(error);\n        }\n      );\n    }\n  }\n\n  render() {\n    return (\n      <div id=\"recover-page\">\n        <div className=\"recoverForm\">\n          <Typography className=\"emailLabel\">\n            What is your email address?\n          </Typography>\n          <TextField\n            variant=\"outlined\"\n            placeholder=\"Enter your email address\"\n            onChange={this.handleEmail}\n            className=\"email-input\"\n          />\n          <Button variant=\"contained\" color=\"primary\" onClick={this.send}>\n            Recover\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default OneTimePassword;\n\nclass EnterOTP extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: this.props.userEmail,\n      otp: \"\"\n    };\n\n    this.handleOTP = this.handleOTP.bind(this);\n    this.submit = this.submit.bind(this);\n  }\n\n  handleOTP(event) {\n    this.setState({ otp: event.target.value });\n  }\n\n  submit() {\n    Axios.post(\"http://localhost:8080/validateOTP\", {\n        email: this.state.email, \n        otp: this.state.otp\n      }).then(\n        response => {\n          console.log(response);\n          if (response.data.success) {\n            window.location.replace(\n              `http://localhost:3000/resetpassword?email=${this.state.email}`\n            );\n          } else {\n            alert(\"That is not a registered email.\");\n          }\n        },\n        error => {\n          console.log(error);\n        }\n      );\n    \n  }\n\n  render() {\n    return (\n      <div id=\"recover-page\">\n        <div className=\"recoverForm\">\n          <Typography className=\"emailLabel\">\n            Please enter the One Time Password below.\n          </Typography>\n          <TextField\n            variant=\"outlined\"\n            placeholder=\"One Time Password\"\n            onChange={this.handleOTP}\n            className=\"email-input\"\n          />\n          <Button variant=\"contained\" color=\"primary\" onClick={this.submit}>\n            Submit\n          </Button>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}